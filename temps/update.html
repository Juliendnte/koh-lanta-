{{define "update"}}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Update</title>
    <link rel="stylesheet" href="../static/css/add.css">
</head>

<body>
    <div id="carrousel" class="carrousel">
        <div id="container" class="container">
            <div style="background-image: url(../static/img/{{.Clothes}}.png);" id="photo">

            </div>
        </div>

    </div>
    <div class="controlle">
        <button id="nextup"><ion-icon name="chevron-back-outline"></ion-icon></button>
        <button id="prevup"><ion-icon name="chevron-back-outline"></ion-icon></button>
        <button id="nextdown"><ion-icon name="chevron-back-outline"></ion-icon></button>
        <button id="prevdown"><ion-icon name="chevron-back-outline"></ion-icon></button>
    </div>
    <div class="name">
        <form id="form" class="input-container" action="/update/treatment" method="post">
            <div class="inputContainer">
                <input value="{{.Name}}" required="required" id="inputField" type="text">
                <label class="usernameLabel" for="inputField">Nom</label>
                <svg viewBox="0 0 448 512" class="userIcon"><path d="M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"></path></svg>
            </div>
            <div class="inputContainer">
                <input value="{{.Age}}" required="required" id="inputField"  type="number">
                <label class="usernameLabel" for="inputField">Age</label>
                <svg viewBox="0 0 448 512" class="userIcon"><path d="M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"></path></svg>
            </div>
        </form>
    </div>


    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <script>
        document.body.onload = function () {
            photo = document.getElementById("photo");
            Img = photo.style.backgroundImage;
            Img = Img.match(/(\d+)\.png/)[1];
            console.log(Img)
            nbr = 4;
            p = Math.floor(Img / 10);
            n = Img % 10;
            frm = document.getElementById('form')
            container = document.getElementById("container");
            gup = document.getElementById("prevup");
            dup = document.getElementById("nextup");
            gdown = document.getElementById("prevdown");
            ddown = document.getElementById("nextdown");
            photo = document.getElementById("photo");
            photo.style.backgroundImage = "url('../static/img/" + p + n + ".png')";
            frm.action = '/update/treatment?image=' + p + n;
            photo.style.width = "100px"
            photo.style.height = "300px"

            afficherMasque();
            afficherMasque2();


            gup.onclick = function () {
                if (p < nbr) {
                    p++;
                    container.style.transition = "all 0.2s ease";
                }

                photo.style.backgroundImage = "url('../static/img/" + p + n + ".png')";
                frm.action = '/update/treatment?image=' + p + n;
                afficherMasque();
            }

            dup.onclick = function () {
                if (p > 1) {
                    p--;
                    container.style.transition = "all 0.2s ease";
                }
                photo.style.backgroundImage = "url('../static/img/" + p + n + ".png')";
                frm.action = '/update/treatment?image=' + p + n;

                afficherMasque();
            }

            gdown.onclick = function () {
                if (n < nbr) {
                    n++;
                    container.style.transition = "all 0.2s ease";
                }

                photo.style.backgroundImage = "url('../static/img/" + p + n + ".png')";
                frm.action = '/update/treatment?image=' + p + n;

                afficherMasque2();
            }

            ddown.onclick = function () {
                if (n > 1) {
                    n--;
                    container.style.transition = "all 0.2s ease";
                }

                photo.style.backgroundImage = "url('../static/img/" + p + n + ".png')";
                frm.action = '/update/treatment?image=' + p + n;

                afficherMasque2();

            }

            function afficherMasque() {
                if (p == nbr)
                    gup.style.visibility = "hidden";
                else
                    gup.style.visibility = "visible";
                if (p == 1)
                    dup.style.visibility = "hidden";
                else
                    dup.style.visibility = "visible";

            }

            function afficherMasque2() {
                if (n == nbr)
                    gdown.style.visibility = "hidden";
                else
                    gdown.style.visibility = "visible";
                if (n == 1)
                    ddown.style.visibility = "hidden";
                else
                    ddown.style.visibility = "visible";
            }
        }
    </script>

</body>

</html>
{{end}}